<?xml version="1.0" ?><!DOCTYPE html  PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN'  'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'><html lang="fr" xmlns="http://www.w3.org/1999/xhtml">
  <head><meta content="text/html; charset=utf-8" http-equiv="Content-Type"/></head><body><div class="body" role="main">
            
  <div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Les programmes à interface graphique décrit dans les chapitres
précédents sont prévus pour un ensemble fini d’expériences. Pour
développer de nouvelles expériences, on doit savoir comment accéder
aux fonctionnalités d’expEYES par logiciel. Les appels de fonctions
importants pour communiquer avec l’appareil sont donnés ci-dessous.</p>
</div>
<div class="section" id="etablir-la-connexion">
<h1>Établir la Connexion</h1>
<p>Pour accéder au matériel de EYES17, les modules Python pour <code class="docutils literal notranslate"><span class="pre">eyes17</span></code>
doivent être installés. Il sont censés se trouver dans un répertoire
nommé <code class="docutils literal notranslate"><span class="pre">eyes17</span></code>, qui pourrait être dans votre répertoire personnel
ou sur le «Python PATH».</p>
<p><strong>Tout programme doit commencer par les deux lignes suivantes:</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span/><span class="kn">import</span> <span class="nn">eyes17.eyes</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">eyes17</span><span class="o">.</span><span class="n">eyes</span><span class="o">.</span><span class="n">open</span><span class="p">()</span>
</pre></div>
</div>
<p>La variable <code class="docutils literal notranslate"><span class="pre">p</span></code> est l’objet logiciel qui représente le matériel.</p>
<p>Les sections suivantes expliquent les appels de fonctions Python pour
accéder au matériel EYES17. Chaque appel de fonction est expliquer
avec un exemple d’utilisation.</p>
</div>
<div class="section" id="set-pv1-v-set-pv2-v">
<h1>set_pv1(v), set_pv2(v)</h1>
<p>Règle la tension continue en PV1 et PV2. L’intervalle pour PV1 est
de -5 à 5. L’intervalle pour PV2 est de -3,3 à 3,3.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span/><span class="k">print</span> <span class="n">p</span><span class="o">.</span><span class="n">set_pv1</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="k">print</span> <span class="n">p</span><span class="o">.</span><span class="n">set_pv2</span><span class="p">(</span><span class="mf">2.1</span><span class="p">)</span>
</pre></div>
</div>
<p>La valeur assignée à la sortie est affichée. Mesurer les tensions
avec un voltmètre.</p>
</div>
<div class="section" id="get-voltage-entree">
<h1>get_voltage(entree)</h1>
<p>Renvoie la tension de l’entrée spécifiée.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span/><span class="k">print</span> <span class="n">p</span><span class="o">.</span><span class="n">get_voltage</span><span class="p">(</span><span class="s1">'A1'</span><span class="p">)</span>
<span class="k">print</span> <span class="n">p</span><span class="o">.</span><span class="n">get_voltage</span><span class="p">(</span><span class="s1">'A2'</span><span class="p">)</span>
<span class="k">print</span> <span class="n">p</span><span class="o">.</span><span class="n">get_voltage</span><span class="p">(</span><span class="s1">'A3'</span><span class="p">)</span>
<span class="k">print</span> <span class="n">p</span><span class="o">.</span><span class="n">get_voltage</span><span class="p">(</span><span class="s1">'MIC'</span><span class="p">)</span>
<span class="k">print</span> <span class="n">p</span><span class="o">.</span><span class="n">get_voltage</span><span class="p">(</span><span class="s1">'SEN'</span><span class="p">)</span>
</pre></div>
</div>
<p>Connecter PV1 à A1, et utiliser <code class="docutils literal notranslate"><span class="pre">set_pv1()</span></code> et <code class="docutils literal notranslate"><span class="pre">get_voltage('A1')</span></code>
ensemble. Cette fonction ajuste le calibre d’entrée par essais et
erreurs, selon la valeur du signal d’entrée.</p>
</div>
<div class="section" id="get-voltage-time-entree">
<h1>get_voltage_time(entree)</h1>
<p>Renvoie un tuple, qui contient le timbre à date de l’ordinateur et
la tension à l’entrée spécifiée.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span/><span class="k">print</span> <span class="n">p</span><span class="o">.</span><span class="n">get_voltage_time</span><span class="p">(</span><span class="s1">'A1'</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="get-resistance">
<h1>get_resistance()</h1>
<p>Renvoie la valeur de la résistance connectée à SEN, qui devrait être
entre <img alt="100~\Omega" class="math" src="_images/math/36dfc0dd6f490d35fa65c29d9013ee762dc718f1.png"/> et <img alt="100~k\Omega" class="math" src="_images/math/747baa849ddf46b5a4d2e10666b6ae1c7a95ee05.png"/> pour une précision raisonnable.</p>
<p>..code-block:: python</p>
<blockquote>
<div>print p.get_resistance()</div></blockquote>
</div>
<div class="section" id="get-capacitance">
<h1>get_capacitance()</h1>
<p>Renvoie la valeur de la capacité connectée en IN1 (fonctionne bien
dans le domaine du <img alt="pF" class="math" src="_images/math/2b77700b64b9da91b31580a92c79e18a34f3cb46.png"/>)</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span/><span class="k">print</span> <span class="n">p</span><span class="o">.</span><span class="n">get_capacitance</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="get-version">
<h1>get_version()</h1>
<p>Renvoie la version du firmware.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span/><span class="k">print</span> <span class="n">p</span><span class="o">.</span><span class="n">get_version</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="get-temperature">
<h1>get_temperature()</h1>
<p>Renvoie la température du processeur à l’intérieur de EYES17</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span/><span class="k">print</span> <span class="n">p</span><span class="o">.</span><span class="n">get_temperature</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="set-state-sortie-valeur">
<h1>set_state(SORTIE=valeur)</h1>
<p>Règle l’état logique de la sortie OD1, SQ1, etc. Connecter OD1 à A1
et lancer:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span/><span class="n">p</span><span class="o">.</span><span class="n">set_state</span><span class="p">(</span><span class="n">OD1</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="k">print</span> <span class="n">p</span><span class="o">.</span><span class="n">get_voltage</span><span class="p">(</span><span class="s1">'A1'</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="set-sine-fequence">
<h1>set_sine(fequence)</h1>
<p>Génère le signal sinusoïdal de la fréquence demandée sur WG (intervalle
de <img alt="5~Hz" class="math" src="_images/math/48df4d4a4c82303ecd0057047ce8bf022e984355.png"/> à <img alt="5000~Hz" class="math" src="_images/math/5df22fb60995160195c21d25e527e9cd6bb6e224.png"/>). Toutes les valeurs intermédiaires ne sont
pas possibles, la fonction renvoie la valeur effectivement adoptée.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span/><span class="k">print</span> <span class="n">p</span><span class="o">.</span><span class="n">set_sine</span><span class="p">(</span><span class="mi">502</span><span class="p">)</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">502.00803</span></code></p>
</div>
<div class="section" id="set-sine-amp-amplitude">
<h1>set_sine_amp(amplitude)</h1>
<p>L’amplitude peut être réglée à trois valeurs prédéfinies de tension
crête(0 pour avoir <img alt="80~mV" class="math" src="_images/math/2b5568b71acf92c5e95a36e52fd330c6db9861a9.png"/>, 1 pour avoir <img alt="1~V" class="math" src="_images/math/117a9280db319af9cc60ec2a6a1c63cc91da4ec1.png"/>, 3 pour avoir <img alt="3~V" class="math" src="_images/math/118cc182a2b14f51e663d5b5801fd1cba1013101.png"/>).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span/><span class="n">p</span><span class="o">.</span><span class="n">set_sine_amp</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p>Règle l’amplitude à <img alt="3~V" class="math" src="_images/math/118cc182a2b14f51e663d5b5801fd1cba1013101.png"/> crête.</p>
</div>
<div class="section" id="set-sqr1-frequence">
<h1>set_sqr1(frequence)</h1>
<p>Règle la fréquence de la sortie SQ1 (intervalle de <img alt="4~Hz" class="math" src="_images/math/191d8a5b7b9f9387d0005f85c30ab83cba07e726.png"/> à <img alt="1~MHz" class="math" src="_images/math/bea218d9bbc22ce38a492e2b63103a87f143f1a7.png"/>).
Toutes les valeurs intermédiaires ne sont pas possibles, la fonction
renvoie la valeur effectivement adoptée.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span/><span class="k">print</span> <span class="n">p</span><span class="o">.</span><span class="n">set_sqr1</span><span class="p">(</span><span class="mi">15030</span><span class="p">)</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">15030.53</span></code></p>
</div>
<div class="section" id="set-sqr1-slow-frequence">
<h1>set_sqr1_slow(frequence)</h1>
<p>Règle la fréquence de la sortie SQ1 (intervalle de <img alt="0,1~Hz" class="math" src="_images/math/f6d5026afb39d7a3006495b38e318ef31a5e56be.png"/> à <img alt="1~MHz" class="math" src="_images/math/bea218d9bbc22ce38a492e2b63103a87f143f1a7.png"/>).
Toutes les valeurs intermédiaires ne sont pas possibles, la fonction
renvoie la valeur effectivement adoptée. La résolution est fine mais
WG est désactivé quand on commande SQ1 de cette façon.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span/><span class="k">print</span> <span class="n">p</span><span class="o">.</span><span class="n">set_sqr1_slow</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="set-sqr2-frequence">
<h1>set_sqr2(frequence)</h1>
<p>Similaire à set_sqr1() mais SQ2 n’est pas disponible en même temps
que WG, une seule des deux sorties est utilisable à la fois.</p>
</div>
<div class="section" id="set-sqr1-frequence-rapportcyclique">
<h1>set_sqr1(frequence, rapportCyclique)</h1>
<p>Règle la fréquence de la sortie SQ1 (intervalle de <img alt="0,1~Hz" class="math" src="_images/math/f6d5026afb39d7a3006495b38e318ef31a5e56be.png"/> à <img alt="1~MHz" class="math" src="_images/math/bea218d9bbc22ce38a492e2b63103a87f143f1a7.png"/>).
Toutes les valeurs intermédiaires ne sont pas possibles, la fonction
renvoie la valeur effectivement adoptée.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span/><span class="k">print</span> <span class="n">p</span><span class="o">.</span><span class="n">set_sqr1</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>          <span class="c1">#1000 ~Hz, rapport cyclique 30%</span>
</pre></div>
</div>
</div>
<div class="section" id="get-freq-entree">
<h1>get_freq(entree)</h1>
<p>Mesure la fréquence d’un signal carré sur l’entrée, IN2 ou SEN. Connecter
SQ1 à IN2 et lancer le code:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span/><span class="n">p</span><span class="o">.</span><span class="n">set_sqr1</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
<span class="k">print</span> <span class="n">p</span><span class="o">.</span><span class="n">get_freq</span><span class="p">(</span><span class="s1">'IN2'</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="duty-cycle-entree">
<h1>duty_cycle(entree)</h1>
<p>Mesure le rapport cyclique d’un signal carré , IN2 ou SEN. Connecter
SQ1 à IN2 et lancer le code:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span/><span class="n">p</span><span class="o">.</span><span class="n">set_sqr1</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>
<span class="k">print</span> <span class="n">p</span><span class="o">.</span><span class="n">duty_cycle</span><span class="p">(</span><span class="s1">'IN2'</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="r2ftime-entree1-entree2">
<h1>r2ftime(entree1, entree2)</h1>
<p>Mesure l’intervalle de temps entre un front montant sur input1 jusqu’à
un front descendant sur input2, les entrées peuvent éventuellement
être les mêmes. On peut l’utiliser pour tester un signal carré.</p>
<p>Connecter SQ1 à IN2 et lancer le code:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span/><span class="n">p</span><span class="o">.</span><span class="n">set_sqr1</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>
<span class="k">print</span> <span class="n">p</span><span class="o">.</span><span class="n">r2ftime</span><span class="p">(</span><span class="s1">'IN2'</span><span class="p">,</span> <span class="s1">'IN2'</span><span class="p">)</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">0.0003</span></code></p>
<p>Le signal carré à <img alt="1~kHz" class="math" src="_images/math/71e0510df4df44cfb1644b4503bf0c84a2326101.png"/> avec un rapport cyclique de 30% a une
période de <img alt="1~ms" class="math" src="_images/math/9da16e77911c3af831d1804697d2258399d34781.png"/> et reste à l’état HAUT durant <img alt="0,3~ms" class="math" src="_images/math/05295d59f466bf7fe8e2b252e4977e92b77c42b7.png"/>.</p>
</div>
<div class="section" id="multi-r2rtime-entree-nbcycles">
<h1>multi_r2rtime(entree, nbCycles)</h1>
<p>Mesure l’intervalle de temps entre deux fronts montants de l’entrée
<code class="docutils literal notranslate"><span class="pre">entree</span></code>. La durée entre deux fronts montants est un cycle.
On peut spécifier le nombre cycles à mesurer, la valeur par défaut
étant 1. Les valeurs autorisées sont 1,2,4,8,12,16,32 et 48. On peut
tester ça avec un signal carré.</p>
<p>Connecter SQ1 à IN2 et lancer le code:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span/><span class="n">p</span><span class="o">.</span><span class="n">set_sqr1</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
<span class="k">print</span> <span class="n">p</span><span class="o">.</span><span class="n">multi_r2rtime</span><span class="p">(</span><span class="s1">'IN2'</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">0.008</span></code></p>
</div>
<div class="section" id="select-range-canal-calibre">
<h1>select_range(canal, calibre)</h1>
<p>Les calibres pour A1 et A2 peuvent être réglés depuis <img alt="\pm0.5~V" class="math" src="_images/math/d76d759730f2c5ae0d1b8d56a8fa13f7512f349d.png"/>
jusqu’à <img alt="\pm16~V" class="math" src="_images/math/3da4466be0004e4b45ed095632a455e5ab7ccbf9.png"/>, à l’aide d’amplificateurs à gain programmable.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span/><span class="n">p</span><span class="o">.</span><span class="n">select_range</span><span class="p">(</span><span class="s1">'A1'</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>         <span class="c1"># 4 volt maximum</span>
<span class="n">p</span><span class="o">.</span><span class="n">select_range</span><span class="p">(</span><span class="s1">'A1'</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span>         <span class="c1"># 8 volt maximum</span>
</pre></div>
</div>
</div>
<div class="section" id="capture1-entree-nbechantillons-intervalletemps">
<h1>capture1(entree, nbEchantillons, intervalleTemps)</h1>
<p>Numérise l’entrée spécifiée. Le nombre d’échantillons peut aller jusqu’à
10000. La durée entre deux échantillons consécutifs est donnée en
microseconde (intervalle de <img alt="2" class="math" src="_images/math/16d14f59441fe3b3d7c57975e6e10cbf2474c220.png"/> à <img alt="1000~\mu s" class="math" src="_images/math/8a2c67f0b57480979c11c04b19d373619aadc6c5.png"/>).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span/><span class="k">print</span> <span class="n">p</span><span class="o">.</span><span class="n">capture1</span><span class="p">(</span><span class="s1">'A1'</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
<p>affichera deux tableaux de dates et de tensions.</p>
<p>Quand on a besoin de créer un graphique de la tension de sortie pour
une meilleure compréhension, on peut le faire à l’aide du module <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code>,
importé grâce à l’interface <code class="docutils literal notranslate"><span class="pre">pylab</span></code>. Connecter WG à A1 à l’aide
d’un fil et lancer:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span/><span class="kn">from</span> <span class="nn">pylab</span> <span class="kn">import</span> <span class="o">*</span>
<span class="n">p</span><span class="o">.</span><span class="n">set_sine_amp</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">set_sine</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">select_range</span><span class="p">(</span><span class="s1">'A1'</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="n">t</span><span class="p">,</span><span class="n">v</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">capture1</span><span class="p">(</span><span class="s1">'A1'</span><span class="p">,</span> <span class="mi">300</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span><span class="n">v</span><span class="p">)</span>
<span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>Le résultat de ce code est donné ci-dessous.</p>
<a class="reference internal image-reference" href="_images/sine.png"><img alt="_images/sine.png" src="_images/sine.png" style="width: 400px;"/></a>
</div>
<div class="section" id="capture2-nbechantillons-intervalletemps">
<h1>capture2(nbEchantillons, intervalleTemps)</h1>
<p>Numérise les entrées A1 et A2 simultanément. Le nombre d’échantillons
peut aller jusqu’à 10000. La durée entre deux échantillons consécutifs
est donnée en microseconde (intervalle de <img alt="2" class="math" src="_images/math/16d14f59441fe3b3d7c57975e6e10cbf2474c220.png"/> à <img alt="1000~\mu s" class="math" src="_images/math/8a2c67f0b57480979c11c04b19d373619aadc6c5.png"/>).</p>
<p>Connecter WG à A1, et une diode entre A1 et A2. Lancer le code ci-dessous:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span/><span class="kn">from</span> <span class="nn">pylab</span> <span class="kn">import</span> <span class="o">*</span>
<span class="n">p</span><span class="o">.</span><span class="n">set_sine_amp</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">set_sine</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">select_range</span><span class="p">(</span><span class="s1">'A1'</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="n">t</span><span class="p">,</span><span class="n">v</span><span class="p">,</span><span class="n">tt</span><span class="p">,</span><span class="n">vv</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">capture2</span><span class="p">(</span><span class="mi">300</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span><span class="n">v</span><span class="p">)</span>
<span class="n">plot</span><span class="p">(</span><span class="n">tt</span><span class="p">,</span><span class="n">vv</span><span class="p">)</span>
<span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>Le résultat de ce code est donné ci-dessous.</p>
<a class="reference internal image-reference" href="_images/halfwave.png"><img alt="_images/halfwave.png" src="_images/halfwave.png" style="width: 400px;"/></a>
<a class="reference internal image-reference" href="_images/capture4.png"><img alt="_images/capture4.png" src="_images/capture4.png" style="width: 400px;"/></a>
</div>
<div class="section" id="capture4-nbechantillons-intervalletemps">
<h1>capture4(nbEchantillons, intervalleTemps)</h1>
<p>Numérise les entrées A1, A2, A3 et MIC simultanément. Le nombre d’échantillons
peut aller jusqu’à 10000. La durée entre deux échantillons consécutifs
est donnée en microseconde (intervalle de <img alt="2" class="math" src="_images/math/16d14f59441fe3b3d7c57975e6e10cbf2474c220.png"/> à <img alt="1000~\mu s" class="math" src="_images/math/8a2c67f0b57480979c11c04b19d373619aadc6c5.png"/>).</p>
<p>Connecter WG à A3 et lancer le code donné ci-dessous. Le résultat
est montré ci-dessus.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span/><span class="kn">from</span> <span class="nn">pylab</span> <span class="kn">import</span> <span class="o">*</span>
<span class="n">p</span><span class="o">.</span><span class="n">set_sine_amp</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">set_sine</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">select_range</span><span class="p">(</span><span class="s1">'A1'</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="n">res</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">capture4</span><span class="p">(</span><span class="mi">300</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">plot</span><span class="p">(</span><span class="n">res</span><span class="p">{[}</span><span class="mi">4</span><span class="p">{]},</span><span class="n">res</span><span class="p">{[}</span><span class="mi">5</span><span class="p">{]})</span>        <span class="c1"># A3</span>
<span class="n">plot</span><span class="p">(</span><span class="n">res</span><span class="p">{[}</span><span class="mi">6</span><span class="p">{]},</span><span class="n">res</span><span class="p">{[}</span><span class="mi">7</span><span class="p">{]})</span>        <span class="c1"># MIC</span>
<span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="set-wave-frequence-typedesignal">
<h1>set_wave(frequence, typeDeSignal)</h1>
<p>Si le paramètre <code class="docutils literal notranslate"><span class="pre">wavetype</span></code> n’est pas spécifié, cela génère
un signal en utilisant la table d’onde existante. Si <code class="docutils literal notranslate"><span class="pre">wavetype</span></code>
est spécifié <code class="docutils literal notranslate"><span class="pre">'sine'</span></code> ou <code class="docutils literal notranslate"><span class="pre">'tria'</span></code>, la table d’onde
correspondante est chargée.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span/><span class="kn">from</span> <span class="nn">pylab</span> <span class="kn">import</span> <span class="o">*</span>
<span class="n">p</span><span class="o">.</span><span class="n">set_wave</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="s1">'sine'</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">set_wave</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>          <span class="c1"># fréq. 100Hz avec la table existante</span>
<span class="n">x</span><span class="p">,</span><span class="n">y</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">capture1</span><span class="p">(</span><span class="s1">'A1'</span><span class="p">,</span> <span class="mi">500</span><span class="p">,</span><span class="mi">50</span><span class="p">)</span>
<span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">set_wave</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="s1">'tria'</span><span class="p">)</span>  <span class="c1"># table d'onde triangulaire et 100 Hz</span>
<span class="n">x</span><span class="p">,</span><span class="n">y</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">capture1</span><span class="p">(</span><span class="s1">'A1'</span><span class="p">,</span> <span class="mi">500</span><span class="p">,</span><span class="mi">50</span><span class="p">)</span>
<span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>
<span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="load-equation-fonction-intervalle">
<h1>load_equation(fonction, intervalle)</h1>
<p>Crée la table d’onde en utilisant l’équation. Connecter WG à A1 et
lancer le code ci-dessous. Le résultat est montré plus bas.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span/><span class="kn">from</span> <span class="nn">pylab</span> <span class="kn">import</span> <span class="o">*</span>

<span class="k">def</span> <span class="nf">f1</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="n">sin</span><span class="p">(</span><span class="mi">3</span><span class="o">*</span><span class="n">x</span><span class="p">)</span><span class="o">/</span><span class="mi">3</span>

<span class="n">p</span><span class="o">.</span><span class="n">load_equation</span><span class="p">(</span><span class="n">f1</span><span class="p">,</span> <span class="p">[</span><span class="o">-</span><span class="n">pi</span><span class="p">,</span><span class="n">pi</span><span class="p">])</span>
<span class="n">p</span><span class="o">.</span><span class="n">set_wave</span><span class="p">(</span><span class="mi">400</span><span class="p">)</span>
<span class="n">x</span><span class="p">,</span><span class="n">y</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">capture1</span><span class="p">(</span><span class="s1">'A1'</span><span class="p">,</span> <span class="mi">500</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>
<span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/loadEquation.png"><img alt="_images/loadEquation.png" src="_images/loadEquation.png" style="width: 400px;"/></a>
<a class="reference internal image-reference" href="_images/loadTable.png"><img alt="_images/loadTable.png" src="_images/loadTable.png" style="width: 400px;"/></a>
</div>
<div class="section" id="load-table-table">
<h1>load_table(table)</h1>
<p>On peut aussi charger la table d’onde avec un tableau de 512 éléments.
Connecter WG à A1 et lancer le code ci-dessous. Après l’opération
de valeur absolue, la table commence par 256, puis descend jusqu’à
0 et enfin remonte jusqu’à 255, ce qui trace un signal triangulaire.
Le résultat dû à ce tableau est montré ci-dessus.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span/><span class="kn">from</span> <span class="nn">pylab</span> <span class="kn">import</span> <span class="o">*</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">arange</span><span class="p">(</span><span class="o">-</span><span class="mi">256</span><span class="p">,</span> <span class="mi">256</span><span class="p">)</span>
<span class="n">x</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">load_table</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">set_wave</span><span class="p">(</span><span class="mi">400</span><span class="p">)</span>
<span class="n">x</span><span class="p">,</span><span class="n">y</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">capture1</span><span class="p">(</span><span class="s1">'A1'</span><span class="p">,</span> <span class="mi">500</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>
<span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>


          </div></body>
</html>